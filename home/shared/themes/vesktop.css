/* Catppuccin Mocha (official) + Glass Transparency for Vesktop/Vencord
   ---------------------------------------------------------------
   - Imports the official Catppuccin Mocha Discord theme
   - Makes backgrounds transparent/semi-transparent so Vesktop transparency shows through
   - Keeps text/input surfaces readable
   - Tweak opacity by changing rgba(...) alpha values below
*/

@import url("https://catppuccin.github.io/discord/dist/catppuccin-mocha.theme.css");

/* ---- GLOBAL TRANSPARENCY TOKENS ----
   Tune these first if you want more/less opacity.
   Values are the Mocha base/mantle/crust with alpha. */
:root {
  /* Primary surfaces */
  --background-primary: rgba(24, 24, 37, 0.42) !important; /* base   */
  --background-secondary: rgba(17, 17, 27, 0.38) !important; /* mantle */
  --background-secondary-alt: rgba(17, 17, 27, 0.34) !important;
  --background-tertiary: rgba(12, 12, 20, 0.3) !important; /* crust  */

  /* Floating / popouts / modals */
  --background-floating: rgba(17, 17, 27, 0.55) !important;
  --modal-background: rgba(17, 17, 27, 0.6) !important;
  --modal-footer-background: rgba(17, 17, 27, 0.5) !important;

  /* Inputs / textareas */
  --input-background: rgba(17, 17, 27, 0.55) !important;
  --channeltextarea-background: rgba(17, 17, 27, 0.55) !important;

  /* Panels / activity cards / legacy tokens */
  --activity-card-background: rgba(17, 17, 27, 0.45) !important;
  --deprecated-panel-background: var(--background-tertiary) !important;

  /* Subtle separators & interaction states (stay faint on glass) */
  --background-modifier-accent: rgba(255, 255, 255, 0.06) !important;
  --background-modifier-hover: rgba(255, 255, 255, 0.06) !important;
  --background-modifier-active: rgba(255, 255, 255, 0.1) !important;
  --background-modifier-selected: rgba(255, 255, 255, 0.12) !important;

  /* Blur strength for glass surfaces that support backdrop-filter */
  --glass-blur: 14px;
}

/* Let the OS/Window effect show through */
html,
body,
[class^="appMount-"],
[class*=" appMount-"],
[class^="app-"],
[class*=" app-"],
[class^="bg-"],
[class*=" bg-"] {
  background: transparent !important;
}

/* Apply blur on major panes while keeping them see-through */
[class^="layers-"],
[class*=" layers-"],
[class^="layer-"],
[class*=" layer-"],
[class^="container-"],
[class*=" container-"],
[class^="content-"],
[class*=" content-"],
[class^="sidebar-"],
[class*=" sidebar-"],
[class^="panels-"],
[class*=" panels-"],
[class^="wrapper-"],
[class*=" wrapper-"],
[class^="chat-"],
[class*=" chat-"],
[class^="chatContent-"],
[class*=" chatContent-"],
[class^="noChannel-"],
[class*=" noChannel-"],
[class^="standardSidebarView-"],
[class*=" standardSidebarView-"],
[class^="titleBar-"],
[class*=" titleBar-"] {
  background-color: transparent !important;
  background: transparent !important;
  -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(1.1);
  backdrop-filter: blur(var(--glass-blur)) saturate(1.1);
}

/* Menus, popouts, tooltips: slightly more opaque for readability */
[class^="menu-"],
[class*=" menu-"],
[class^="submenu-"],
[class*=" submenu-"],
[class^="tooltip-"],
[class*=" tooltip-"],
[class^="userPopout-"],
[class*=" userPopout-"],
[class^="root-"],
[class*=" root-"],
[class^="modal-"],
[class*=" modal-"],
[class^="keyboardShortcutsModal-"],
[class*=" keyboardShortcutsModal-"],
[class^="autocomplete-"],
[class*=" autocomplete-"],
[class^="popout-"],
[class*=" popout-"],
[class^="select-"],
[class*=" select-"],
[class^="option-"],
[class*=" option-"],
[class^="container-3ayLPN"] {
  background: var(--background-floating) !important;
  -webkit-backdrop-filter: blur(calc(var(--glass-blur) + 3px));
  backdrop-filter: blur(calc(var(--glass-blur) + 3px));
}

/* Avoid white flashes on theme switches */
.theme-dark,
.theme-light {
  background: transparent !important;
}
